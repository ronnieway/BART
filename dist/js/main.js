'use strict';if('serviceWorker'in navigator){navigator.serviceWorker.register('/swGetData.js').then(c=>{console.log('ServiceWorker registration',c)}).catch(c=>{console.log('ServiceWorker error: '+c)})}function loadData(){var d='http://api.bart.gov/api/stn.aspx?cmd=stns&key=MW9S-E7SL-26DU-VV8V';$.ajax({type:'GET',url:d,dataType:'xml',success:c,error:()=>{$('#routes-at-station-header').css({color:'red',padding:'5px',border:'1px solid red'}).html('You are offline!');$('#routes-at-station-values').css('color','red').html('You can\'t get the actual information regarding your trip, but you still have a chance to check the offline schedule for the chosen station')}});function c(e){$('#stations-list').html('');$(e).find('station').each(function(){$('#stations-list').append('<option value=\''+$(this).find('name').text()+'\' data-value=\''+$(this).find('abbr').text()+'\'></option>');$('#stations-list2').append('<option value=\''+$(this).find('name').text()+'\' data-value=\''+$(this).find('abbr').text()+'\'></option>')})}return!1}function chooseStation(){var d=$('#stations-input').val(),e=$('#stations-list option[value=\''+d+'\']').attr('data-value'),f='http://api.bart.gov/api/stn.aspx?cmd=stninfo&key=MW9S-E7SL-26DU-VV8V&orig='+e;$.ajax({type:'GET',url:f,dataType:'xml',success:data=>data,complete:c,error:()=>{$('#routes-at-station-header').css({color:'red',padding:'5px',border:'1px solid red'}).html('You are offline!');$('#routes-at-station-values').css('color','red').html('You can\'t get the actual information regarding your trip, but you still have a chance to check the offline schedule for the chosen station');$('#all-schedule-content').html('')}});function c(g){$('#form-container2').css('display','block');$('#routes-at-station-values').html('');$('#routes-at-station-header').html('<p>Choose route</p>').css({color:'white',padding:'5px',border:'0'});$('#stations-input2').val('');$('#all-schedule-content').html('');$('#sched-results').html('');var a=$(g.responseText).find('station').find('north_routes').find('route').text(),b=$(g.responseText).find('station').find('south_routes').find('route').text();a=a.replace(/\s/g,'');b=b.replace(/\s/g,'');var k=a.split('ROUTE').slice(2),l=b.split('ROUTE').slice(2);$('#routes-at-station-header').html('Routes at the station:').css({color:'white',padding:'5px',border:'0'});for(var i=0;i<k.length;i++){$('#routes-at-station-values').append('<div class=\'col-xs-6 col-sm-6 col-md-5 col-lg-5\' id=\'route'+k[i]+'\'><b><a onclick=\'chooseRoute('+k[i]+');\'>Route '+k[i]+'</a></b></div>')}for(var j=0;j<l.length;j++){$('#routes-at-station-values').append('<div class=\'col-xs-6 col-sm-6 col-md-5 col-lg-5\' id=\'route'+l[j]+'\'><b><a onclick=\'chooseRoute('+l[j]+');\'>Route '+l[j]+'</a></b></div>')}}$.ajax({type:'GET',url:'http://api.bart.gov/api/sched.aspx?cmd=stnsched&key=MW9S-E7SL-26DU-VV8V&l=1&orig='+e,dataType:'xml',success:$('#all-schedule-link').html('<button type=\'button\' class=\'btn btn-primary btn-lg btn-block\' id=\'offline-sched\'>Offline schedule for '+d+'</button>'),error:()=>{$('#form-container2').css('display','none');$('#routes-at-station-header').css({color:'red',padding:'5px',border:'1px solid red'}).html('You are offline!');$('#routes-at-station-values').css('color','red').html('You can\'t get the actual information regarding your trip, but you still have a chance to check the offline schedule for the chosen station');$('#all-schedule-content').html('')}});return!1}function chooseRoute(x){var d='http://api.bart.gov/api/route.aspx?cmd=routeinfo&key=MW9S-E7SL-26DU-VV8V&route='+x;$.ajax({type:'GET',url:d,dataType:'xml',success:c,error:()=>{$('#form-container2').css('display','none');$('#routes-at-station-header').css({color:'red',padding:'5px',border:'1px solid red'}).html('You are offline!');$('#routes-at-station-values').css('color','red').html('You can\'t get the actual information regarding your trip, but you still have a chance to check the offline schedule for the chosen station');$('#all-schedule-content').html('')}});function c(e){$('#routes-at-station-header').html('Select the destination at the chosen route').css({color:'white',padding:'5px',border:'0'});var b='#route'+x,a=$(e).find('station').text();a=a.match(/.{4}/g);$('#all-schedule-content').html('');var f=$('#stations-input').val();for(var i=0;i<a.length;i++){var g='finalDestination(\''+a[i]+'\')';if($('#stations-list option[data-value=\''+a[i]+'\']').attr('value')!=void 0){if(a[i]==$('#stations-list option[value=\''+f+'\']').attr('data-value')){$(b).append('<p class=\'you-are-here\'> You are here: '+$('#stations-list option[data-value=\''+a[i]+'\']').attr('value')+'</p>')}else{$(b).append('<p><a onclick='+g+';>'+$('#stations-list option[data-value=\''+a[i]+'\']').attr('value')+'</a></p>')}}}}return!1}function finalDestination(c){var e=$('#stations-input').val(),f=$('#stations-list option[value=\''+e+'\']').attr('data-value'),g='http://api.bart.gov/api/sched.aspx?cmd=arrive&date=now&key=MW9S-E7SL-26DU-VV8V&b=0&a=3&orig='+f+'&dest='+c;$.ajax({type:'GET',url:g,dataType:'xml',success:d,error:()=>{$('#form-container2').css('display','none');$('#routes-at-station-header').css({color:'red',padding:'5px',border:'1px solid red'}).html('You are offline!');$('#routes-at-station-values').css('color','red').html('You can\'t get the actual information regarding your trip, but you still have a chance to check the offline schedule for the chosen station');$('#all-schedule-content').html('')}});function d(k){$('#sched-results').html('');$('#all-schedule-content').html('');$('#routes-at-station-values').html('');$('#routes-at-station-header').html('').css({color:'white',padding:'5px',border:'0'});$('#sched-results').append('<div id=\'suggestedTime\' class=\'col-xs-12 col-sm-12 col-md-12 col-lg-12\'><h4>You can pick one of the following trains to '+$('#stations-list option[data-value=\''+c+'\']').attr('value')+'</h4></div>');$(k).find('trip').each(function(){var l=this.children[1].outerHTML.split('origTimeMin='),m=l[1].slice(1,9),n=this.children[1].outerHTML.split('destTimeMin='),o=n[1].slice(1,9);if(m[7]=='"'){m=m.slice(0,-1)}if(o[7]=='"'){o=o.slice(0,-1)}$('#suggestedTime').append('<div class=\'suggestedTime\'>Departure: '+m+', arrival: '+o+'</div>')})}return!1}function finalDestination2(){var d=$('#stations-input').val(),e=$('#stations-list option[value=\''+d+'\']').attr('data-value'),f=$('#stations-input2').val(),g=$('#stations-list2 option[value=\''+f+'\']').attr('data-value'),k='http://api.bart.gov/api/sched.aspx?cmd=arrive&date=now&key=MW9S-E7SL-26DU-VV8V&b=0&a=3&orig='+e+'&dest='+g;$.ajax({type:'GET',url:k,dataType:'xml',success:c,error:()=>{$('#form-container2').css('display','none');$('#routes-at-station-header').css({color:'red',padding:'5px',border:'1px solid red'}).html('You are offline!');$('#routes-at-station-values').css('color','red').html('You can\'t get the actual information regarding your trip, but you still have a chance to check the offline schedule for the chosen station');$('#all-schedule-content').html('')}});function c(l){var m=$('#stations-input2').val();$('#sched-results').html('');$('#all-schedule-content').html('');$('#routes-at-station-values').html('');$('#routes-at-station-header').html('').css({color:'white',padding:'5px',border:'0'});$('#sched-results').append('<div id=\'suggestedTime\' class=\'col-xs-12 col-sm-12 col-md-12 col-lg-12\'><h4>You can pick one of the following trains to '+m+'</h4></div>');$(l).find('trip').each(function(){var n=this.children[1].outerHTML.split('origTimeMin='),o=n[1].slice(1,9),p=this.children[1].outerHTML.split('destTimeMin='),q=p[1].slice(1,9);if(o[7]=='"'){o=o.slice(0,-1)}if(q[7]=='"'){q=q.slice(0,-1)}$('#suggestedTime').append('<div class=\'suggestedTime col-xs-12 col-sm-12 col-md-12 col-lg-12\'>Departure: '+o+', arrival: '+q+'</div>')})}return!1}function showSchedule(){var d=$('#stations-input').val(),e=$('#stations-list option[value=\''+d+'\']').attr('data-value'),f=$('#stations-list option[value=\''+d+'\']').attr('value');$.ajax({type:'GET',url:'http://api.bart.gov/api/sched.aspx?cmd=stnsched&key=MW9S-E7SL-26DU-VV8V&l=1&orig='+e,dataType:'xml',success:c,error:()=>{$('#form-container2').css('display','none');$('#routes-at-station-header').css({color:'red',padding:'5px',border:'1px solid red'}).html('You are offline!');$('#routes-at-station-values').css('color','red').html('You can\'t get the actual information regarding your trip, but you still have a chance to check the offline schedule for the chosen station');$('#all-schedule-content').html('');$('#all-schedule-content').append('<h4 class=\'text-center\'>Sorry, schedule wasn\'t loaded. Here is routes map.</h4>').css('color','red');$('#all-schedule-content').append('<img id=\'the-routes-map\' src=\'img/map.gif\'>')}});function c(g){$('#routes-at-station-header').html('').css({color:'white',padding:'5px',border:'0'});$('#routes-at-station-values').html('');$('#all-schedule-content').html('');$('#sched-results').html('');var k=$('#stations-input').val(),l=$('#stations-list option[value=\''+k+'\']').attr('data-value');$('#all-schedule-link').html('<button type=\'button\' class=\'btn btn-primary btn-lg btn-block\' id=\'offline-sched\'>Offline schedule for '+f+'</button>');var m=g.children[0].innerHTML;m=m.split('<item line=').slice(1);var n='<table class=\'table table-hover table-responsive table-striped\' id=\'sched-table\'><thead class=\'center\'><tr class=\'row\'><th class=\'col-xs-3 col-sm-3 col-md-3 col-lg-3\'>Route</th><th class=\'col-xs-3 col-sm-3 col-md-3 col-lg-3\'>Destination</th><th class=\'col-xs-3 col-sm-3 col-md-3 col-lg-3\'>Departure time</th><th class=\'col-xs-3 col-sm-3 col-md-3 col-lg-3\'>Arrival time</th></tr></thead><tbody>';for(var h=0;h<m.length;h++){var o=m[h].slice(7,9);if(o[1]=='"'){o=o.slice(0,-1)}var p=m[h].split('trainHeadStation='),q=p[1].slice(1,5),r=$('#stations-list option[data-value=\''+q+'\']').attr('value'),s=m[h].split('origTime='),t=s[1].slice(1,9);if(t[7]=='"'){t=t.slice(0,-1)}var u=m[h].split('destTime='),v=u[1].slice(1,9);if(v[7]=='"'){v=v.slice(0,-1)}n=n+'<tr class=\'row\'><td class=\'col-xs-3 col-sm-3 col-md-3 col-lg-3\'>'+o+'</td><td class=\'col-xs-3 col-sm-3 col-md-3 col-lg-3\'>'+r+'</td><td class=\'col-xs-3 col-sm-3 col-md-3 col-lg-3\'>'+t+'</td><td class=\'col-xs-3 col-sm-3 col-md-3 col-lg-3\'>'+v+'</td></tr>'}n=n+'</tbody></table>';$('#all-schedule-content').append(n)}}$('#form-container').submit(chooseStation);$('#form-container2').submit(finalDestination2);$('#all-schedule-link').click(showSchedule);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8tIGluamVjdDpwYXJ0c1xuaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcblx0bmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy9zd0dldERhdGEuanMnKS50aGVuKGZ1bmN0aW9uIChyZWdpc3RyYXRpb24pIHtcblx0XHRjb25zb2xlLmxvZygnU2VydmljZVdvcmtlciByZWdpc3RyYXRpb24nLCByZWdpc3RyYXRpb24pO1xuXHR9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG5cdFx0Y29uc29sZS5sb2coJ1NlcnZpY2VXb3JrZXIgZXJyb3I6ICcgKyBlcnIpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gbG9hZERhdGEoKSB7XG5cdHZhciB3dXJsID0gJ2h0dHA6Ly9hcGkuYmFydC5nb3YvYXBpL3N0bi5hc3B4P2NtZD1zdG5zJmtleT1NVzlTLUU3U0wtMjZEVS1WVjhWJztcblx0JC5hamF4KHtcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdHVybDogd3VybCxcblx0XHRkYXRhVHlwZTogXCJ4bWxcIixcblx0XHRzdWNjZXNzOiBwYXJzZVhtbCxcblx0XHRlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG5cdFx0XHQkKFwiI3JvdXRlcy1hdC1zdGF0aW9uLWhlYWRlclwiKS5jc3MoeyAnY29sb3InOiAncmVkJywgJ3BhZGRpbmcnOiAnNXB4JywgJ2JvcmRlcic6ICcxcHggc29saWQgcmVkJyB9KS5odG1sKFwiWW91IGFyZSBvZmZsaW5lIVwiKTtcblx0XHRcdCQoXCIjcm91dGVzLWF0LXN0YXRpb24tdmFsdWVzXCIpLmNzcygnY29sb3InLCAncmVkJykuaHRtbChcIllvdSBjYW4ndCBnZXQgdGhlIGFjdHVhbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgeW91ciB0cmlwLCBidXQgeW91IHN0aWxsIGhhdmUgYSBjaGFuY2UgdG8gY2hlY2sgdGhlIG9mZmxpbmUgc2NoZWR1bGUgZm9yIHRoZSBjaG9zZW4gc3RhdGlvblwiKTtcblx0XHR9XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIHBhcnNlWG1sKHhtbCkge1xuXHRcdCQoXCIjc3RhdGlvbnMtbGlzdFwiKS5odG1sKFwiXCIpO1xuXHRcdCQoeG1sKS5maW5kKFwic3RhdGlvblwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdCQoXCIjc3RhdGlvbnMtbGlzdFwiKS5hcHBlbmQoXCI8b3B0aW9uIHZhbHVlPSdcIiArICQodGhpcykuZmluZChcIm5hbWVcIikudGV4dCgpICsgXCInIGRhdGEtdmFsdWU9J1wiICsgJCh0aGlzKS5maW5kKFwiYWJiclwiKS50ZXh0KCkgKyBcIic+PC9vcHRpb24+XCIpO1xuXHRcdFx0JChcIiNzdGF0aW9ucy1saXN0MlwiKS5hcHBlbmQoXCI8b3B0aW9uIHZhbHVlPSdcIiArICQodGhpcykuZmluZChcIm5hbWVcIikudGV4dCgpICsgXCInIGRhdGEtdmFsdWU9J1wiICsgJCh0aGlzKS5maW5kKFwiYWJiclwiKS50ZXh0KCkgKyBcIic+PC9vcHRpb24+XCIpO1xuXHRcdH0pO1xuXHR9XG5cdHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gY2hvb3NlU3RhdGlvbigpIHtcblx0dmFyIGNob3NlbiA9ICQoXCIjc3RhdGlvbnMtaW5wdXRcIikudmFsKCk7XG5cdHZhciBjdXJyZW50U3RhdGlvbiA9ICQoXCIjc3RhdGlvbnMtbGlzdCBvcHRpb25bdmFsdWU9J1wiICsgY2hvc2VuICsgXCInXVwiKS5hdHRyKCdkYXRhLXZhbHVlJyk7XG5cdHZhciB3dXJsID0gJ2h0dHA6Ly9hcGkuYmFydC5nb3YvYXBpL3N0bi5hc3B4P2NtZD1zdG5pbmZvJmtleT1NVzlTLUU3U0wtMjZEVS1WVjhWJm9yaWc9JyArIGN1cnJlbnRTdGF0aW9uO1xuXHQkLmFqYXgoe1xuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0dXJsOiB3dXJsLFxuXHRcdGRhdGFUeXBlOiBcInhtbFwiLFxuXHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fSxcblx0XHRjb21wbGV0ZTogcGFyc2VYbWwyLFxuXHRcdGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHtcblx0XHRcdCQoXCIjcm91dGVzLWF0LXN0YXRpb24taGVhZGVyXCIpLmNzcyh7ICdjb2xvcic6ICdyZWQnLCAncGFkZGluZyc6ICc1cHgnLCAnYm9yZGVyJzogJzFweCBzb2xpZCByZWQnIH0pLmh0bWwoXCJZb3UgYXJlIG9mZmxpbmUhXCIpO1xuXHRcdFx0JChcIiNyb3V0ZXMtYXQtc3RhdGlvbi12YWx1ZXNcIikuY3NzKCdjb2xvcicsICdyZWQnKS5odG1sKFwiWW91IGNhbid0IGdldCB0aGUgYWN0dWFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyB5b3VyIHRyaXAsIGJ1dCB5b3Ugc3RpbGwgaGF2ZSBhIGNoYW5jZSB0byBjaGVjayB0aGUgb2ZmbGluZSBzY2hlZHVsZSBmb3IgdGhlIGNob3NlbiBzdGF0aW9uXCIpO1xuXHRcdFx0JChcIiNhbGwtc2NoZWR1bGUtY29udGVudFwiKS5odG1sKFwiXCIpO1xuXHRcdH1cblx0fSk7XG5cblx0ZnVuY3Rpb24gcGFyc2VYbWwyKHhtbCkge1xuXHRcdCQoXCIjZm9ybS1jb250YWluZXIyXCIpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuXHRcdCQoXCIjcm91dGVzLWF0LXN0YXRpb24tdmFsdWVzXCIpLmh0bWwoXCJcIik7XG5cdFx0JChcIiNyb3V0ZXMtYXQtc3RhdGlvbi1oZWFkZXJcIikuaHRtbChcIjxwPkNob29zZSByb3V0ZTwvcD5cIikuY3NzKHsgJ2NvbG9yJzogJ3doaXRlJywgJ3BhZGRpbmcnOiAnNXB4JywgJ2JvcmRlcic6ICcwJyB9KTtcblx0XHQkKFwiI3N0YXRpb25zLWlucHV0MlwiKS52YWwoXCJcIik7XG5cdFx0JChcIiNhbGwtc2NoZWR1bGUtY29udGVudFwiKS5odG1sKFwiXCIpO1xuXHRcdCQoXCIjc2NoZWQtcmVzdWx0c1wiKS5odG1sKFwiXCIpO1xuXHRcdHZhciBhID0gJCh4bWwucmVzcG9uc2VUZXh0KS5maW5kKFwic3RhdGlvblwiKS5maW5kKFwibm9ydGhfcm91dGVzXCIpLmZpbmQoXCJyb3V0ZVwiKS50ZXh0KCk7XG5cdFx0dmFyIGIgPSAkKHhtbC5yZXNwb25zZVRleHQpLmZpbmQoXCJzdGF0aW9uXCIpLmZpbmQoXCJzb3V0aF9yb3V0ZXNcIikuZmluZChcInJvdXRlXCIpLnRleHQoKTtcblx0XHRhID0gYS5yZXBsYWNlKC9cXHMvZywgJycpO1xuXHRcdGIgPSBiLnJlcGxhY2UoL1xccy9nLCAnJyk7XG5cdFx0dmFyIG5Sb3V0ZXMgPSBhLnNwbGl0KFwiUk9VVEVcIikuc2xpY2UoMik7XG5cdFx0dmFyIHNSb3V0ZXMgPSBiLnNwbGl0KFwiUk9VVEVcIikuc2xpY2UoMik7XG5cdFx0JChcIiNyb3V0ZXMtYXQtc3RhdGlvbi1oZWFkZXJcIikuaHRtbChcIlJvdXRlcyBhdCB0aGUgc3RhdGlvbjpcIikuY3NzKHsgJ2NvbG9yJzogJ3doaXRlJywgJ3BhZGRpbmcnOiAnNXB4JywgJ2JvcmRlcic6ICcwJyB9KTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG5Sb3V0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdCQoXCIjcm91dGVzLWF0LXN0YXRpb24tdmFsdWVzXCIpLmFwcGVuZChcIjxkaXYgY2xhc3M9J2NvbC14cy02IGNvbC1zbS02IGNvbC1tZC01IGNvbC1sZy01JyBpZD0ncm91dGVcIiArIG5Sb3V0ZXNbaV0gKyBcIic+PGI+PGEgb25jbGljaz0nY2hvb3NlUm91dGUoXCIgKyBuUm91dGVzW2ldICsgXCIpOyc+Um91dGUgXCIgKyBuUm91dGVzW2ldICsgXCI8L2E+PC9iPjwvZGl2PlwiKTtcblx0XHR9XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBzUm91dGVzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHQkKFwiI3JvdXRlcy1hdC1zdGF0aW9uLXZhbHVlc1wiKS5hcHBlbmQoXCI8ZGl2IGNsYXNzPSdjb2wteHMtNiBjb2wtc20tNiBjb2wtbWQtNSBjb2wtbGctNScgaWQ9J3JvdXRlXCIgKyBzUm91dGVzW2pdICsgXCInPjxiPjxhIG9uY2xpY2s9J2Nob29zZVJvdXRlKFwiICsgc1JvdXRlc1tqXSArIFwiKTsnPlJvdXRlIFwiICsgc1JvdXRlc1tqXSArIFwiPC9hPjwvYj48L2Rpdj5cIik7XG5cdFx0fVxuXHR9XG5cblx0JC5hamF4KHtcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdHVybDogXCJodHRwOi8vYXBpLmJhcnQuZ292L2FwaS9zY2hlZC5hc3B4P2NtZD1zdG5zY2hlZCZrZXk9TVc5Uy1FN1NMLTI2RFUtVlY4ViZsPTEmb3JpZz1cIiArIGN1cnJlbnRTdGF0aW9uLFxuXHRcdGRhdGFUeXBlOiBcInhtbFwiLFxuXHRcdHN1Y2Nlc3M6ICQoXCIjYWxsLXNjaGVkdWxlLWxpbmtcIikuaHRtbChcIjxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzcz0nYnRuIGJ0bi1wcmltYXJ5IGJ0bi1sZyBidG4tYmxvY2snIGlkPSdvZmZsaW5lLXNjaGVkJz5PZmZsaW5lIHNjaGVkdWxlIGZvciBcIiArIGNob3NlbiArIFwiPC9idXR0b24+XCIpLFxuXHRcdGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHtcblx0XHRcdCQoXCIjZm9ybS1jb250YWluZXIyXCIpLmNzcygnZGlzcGxheScsICdub25lJyk7XG5cdFx0XHQkKFwiI3JvdXRlcy1hdC1zdGF0aW9uLWhlYWRlclwiKS5jc3MoeyAnY29sb3InOiAncmVkJywgJ3BhZGRpbmcnOiAnNXB4JywgJ2JvcmRlcic6ICcxcHggc29saWQgcmVkJyB9KS5odG1sKFwiWW91IGFyZSBvZmZsaW5lIVwiKTtcblx0XHRcdCQoXCIjcm91dGVzLWF0LXN0YXRpb24tdmFsdWVzXCIpLmNzcygnY29sb3InLCAncmVkJykuaHRtbChcIllvdSBjYW4ndCBnZXQgdGhlIGFjdHVhbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgeW91ciB0cmlwLCBidXQgeW91IHN0aWxsIGhhdmUgYSBjaGFuY2UgdG8gY2hlY2sgdGhlIG9mZmxpbmUgc2NoZWR1bGUgZm9yIHRoZSBjaG9zZW4gc3RhdGlvblwiKTtcblx0XHRcdCQoXCIjYWxsLXNjaGVkdWxlLWNvbnRlbnRcIikuaHRtbChcIlwiKTtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGNob29zZVJvdXRlKHgpIHtcblx0dmFyIHd1cmwgPSAnaHR0cDovL2FwaS5iYXJ0Lmdvdi9hcGkvcm91dGUuYXNweD9jbWQ9cm91dGVpbmZvJmtleT1NVzlTLUU3U0wtMjZEVS1WVjhWJnJvdXRlPScgKyB4O1xuXHQkLmFqYXgoe1xuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0dXJsOiB3dXJsLFxuXHRcdGRhdGFUeXBlOiBcInhtbFwiLFxuXHRcdHN1Y2Nlc3M6IHBhcnNlWG1sMyxcblx0XHRlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG5cdFx0XHQkKFwiI2Zvcm0tY29udGFpbmVyMlwiKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuXHRcdFx0JChcIiNyb3V0ZXMtYXQtc3RhdGlvbi1oZWFkZXJcIikuY3NzKHsgJ2NvbG9yJzogJ3JlZCcsICdwYWRkaW5nJzogJzVweCcsICdib3JkZXInOiAnMXB4IHNvbGlkIHJlZCcgfSkuaHRtbChcIllvdSBhcmUgb2ZmbGluZSFcIik7XG5cdFx0XHQkKFwiI3JvdXRlcy1hdC1zdGF0aW9uLXZhbHVlc1wiKS5jc3MoJ2NvbG9yJywgJ3JlZCcpLmh0bWwoXCJZb3UgY2FuJ3QgZ2V0IHRoZSBhY3R1YWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIHlvdXIgdHJpcCwgYnV0IHlvdSBzdGlsbCBoYXZlIGEgY2hhbmNlIHRvIGNoZWNrIHRoZSBvZmZsaW5lIHNjaGVkdWxlIGZvciB0aGUgY2hvc2VuIHN0YXRpb25cIik7XG5cdFx0XHQkKFwiI2FsbC1zY2hlZHVsZS1jb250ZW50XCIpLmh0bWwoXCJcIik7XG5cdFx0fVxuXHR9KTtcblxuXHRmdW5jdGlvbiBwYXJzZVhtbDMoeG1sKSB7XG5cdFx0JChcIiNyb3V0ZXMtYXQtc3RhdGlvbi1oZWFkZXJcIikuaHRtbChcIlNlbGVjdCB0aGUgZGVzdGluYXRpb24gYXQgdGhlIGNob3NlbiByb3V0ZVwiKS5jc3MoeyAnY29sb3InOiAnd2hpdGUnLCAncGFkZGluZyc6ICc1cHgnLCAnYm9yZGVyJzogJzAnIH0pO1xuXHRcdHZhciBiID0gXCIjcm91dGVcIiArIHg7XG5cdFx0dmFyIGEgPSAkKHhtbCkuZmluZChcInN0YXRpb25cIikudGV4dCgpO1xuXHRcdGEgPSBhLm1hdGNoKC8uezR9L2cpO1xuXHRcdCQoXCIjYWxsLXNjaGVkdWxlLWNvbnRlbnRcIikuaHRtbChcIlwiKTtcblx0XHR2YXIgY2hvc2VuID0gJChcIiNzdGF0aW9ucy1pbnB1dFwiKS52YWwoKTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBvbmNsaWNrID0gXCJmaW5hbERlc3RpbmF0aW9uKCdcIiArIGFbaV0gKyBcIicpXCI7XG5cdFx0XHRpZiAoJChcIiNzdGF0aW9ucy1saXN0IG9wdGlvbltkYXRhLXZhbHVlPSdcIiArIGFbaV0gKyBcIiddXCIpLmF0dHIoJ3ZhbHVlJykgIT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGlmIChhW2ldID09ICQoXCIjc3RhdGlvbnMtbGlzdCBvcHRpb25bdmFsdWU9J1wiICsgY2hvc2VuICsgXCInXVwiKS5hdHRyKCdkYXRhLXZhbHVlJykpIHtcblx0XHRcdFx0XHQkKGIpLmFwcGVuZChcIjxwIGNsYXNzPSd5b3UtYXJlLWhlcmUnPiBZb3UgYXJlIGhlcmU6IFwiICsgJChcIiNzdGF0aW9ucy1saXN0IG9wdGlvbltkYXRhLXZhbHVlPSdcIiArIGFbaV0gKyBcIiddXCIpLmF0dHIoJ3ZhbHVlJykgKyBcIjwvcD5cIik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0JChiKS5hcHBlbmQoXCI8cD48YSBvbmNsaWNrPVwiICsgb25jbGljayArIFwiOz5cIiArICQoXCIjc3RhdGlvbnMtbGlzdCBvcHRpb25bZGF0YS12YWx1ZT0nXCIgKyBhW2ldICsgXCInXVwiKS5hdHRyKCd2YWx1ZScpICsgXCI8L2E+PC9wPlwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGZpbmFsRGVzdGluYXRpb24oeHgpIHtcblx0dmFyIGNob3NlbiA9ICQoXCIjc3RhdGlvbnMtaW5wdXRcIikudmFsKCk7XG5cdHZhciBvcmcgPSAkKFwiI3N0YXRpb25zLWxpc3Qgb3B0aW9uW3ZhbHVlPSdcIiArIGNob3NlbiArIFwiJ11cIikuYXR0cignZGF0YS12YWx1ZScpO1xuXHR2YXIgd3VybCA9ICdodHRwOi8vYXBpLmJhcnQuZ292L2FwaS9zY2hlZC5hc3B4P2NtZD1hcnJpdmUmZGF0ZT1ub3cma2V5PU1XOVMtRTdTTC0yNkRVLVZWOFYmYj0wJmE9MyZvcmlnPScgKyBvcmcgKyAnJmRlc3Q9JyArIHh4O1xuXHQkLmFqYXgoe1xuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0dXJsOiB3dXJsLFxuXHRcdGRhdGFUeXBlOiBcInhtbFwiLFxuXHRcdHN1Y2Nlc3M6IHBhcnNlWG1sNCxcblx0XHRlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG5cdFx0XHQkKFwiI2Zvcm0tY29udGFpbmVyMlwiKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuXHRcdFx0JChcIiNyb3V0ZXMtYXQtc3RhdGlvbi1oZWFkZXJcIikuY3NzKHsgJ2NvbG9yJzogJ3JlZCcsICdwYWRkaW5nJzogJzVweCcsICdib3JkZXInOiAnMXB4IHNvbGlkIHJlZCcgfSkuaHRtbChcIllvdSBhcmUgb2ZmbGluZSFcIik7XG5cdFx0XHQkKFwiI3JvdXRlcy1hdC1zdGF0aW9uLXZhbHVlc1wiKS5jc3MoJ2NvbG9yJywgJ3JlZCcpLmh0bWwoXCJZb3UgY2FuJ3QgZ2V0IHRoZSBhY3R1YWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIHlvdXIgdHJpcCwgYnV0IHlvdSBzdGlsbCBoYXZlIGEgY2hhbmNlIHRvIGNoZWNrIHRoZSBvZmZsaW5lIHNjaGVkdWxlIGZvciB0aGUgY2hvc2VuIHN0YXRpb25cIik7XG5cdFx0XHQkKFwiI2FsbC1zY2hlZHVsZS1jb250ZW50XCIpLmh0bWwoXCJcIik7XG5cdFx0fVxuXHR9KTtcblxuXHRmdW5jdGlvbiBwYXJzZVhtbDQoeG1sKSB7XG5cdFx0JChcIiNzY2hlZC1yZXN1bHRzXCIpLmh0bWwoXCJcIik7XG5cdFx0JChcIiNhbGwtc2NoZWR1bGUtY29udGVudFwiKS5odG1sKFwiXCIpO1xuXHRcdCQoXCIjcm91dGVzLWF0LXN0YXRpb24tdmFsdWVzXCIpLmh0bWwoXCJcIik7XG5cdFx0JChcIiNyb3V0ZXMtYXQtc3RhdGlvbi1oZWFkZXJcIikuaHRtbChcIlwiKS5jc3MoeyAnY29sb3InOiAnd2hpdGUnLCAncGFkZGluZyc6ICc1cHgnLCAnYm9yZGVyJzogJzAnIH0pO1xuXHRcdCQoXCIjc2NoZWQtcmVzdWx0c1wiKS5hcHBlbmQoXCI8ZGl2IGlkPSdzdWdnZXN0ZWRUaW1lJyBjbGFzcz0nY29sLXhzLTEyIGNvbC1zbS0xMiBjb2wtbWQtMTIgY29sLWxnLTEyJz48aDQ+WW91IGNhbiBwaWNrIG9uZSBvZiB0aGUgZm9sbG93aW5nIHRyYWlucyB0byBcIiArICQoXCIjc3RhdGlvbnMtbGlzdCBvcHRpb25bZGF0YS12YWx1ZT0nXCIgKyB4eCArIFwiJ11cIikuYXR0cigndmFsdWUnKSArIFwiPC9oND48L2Rpdj5cIik7XG5cdFx0JCh4bWwpLmZpbmQoXCJ0cmlwXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGRlcFRpbWVBcnIgPSB0aGlzLmNoaWxkcmVuWzFdLm91dGVySFRNTC5zcGxpdChcIm9yaWdUaW1lTWluPVwiKTtcblx0XHRcdHZhciBkZXBUaW1lID0gZGVwVGltZUFyclsxXS5zbGljZSgxLCA5KTtcblx0XHRcdHZhciBhcnJUaW1lQXJyID0gdGhpcy5jaGlsZHJlblsxXS5vdXRlckhUTUwuc3BsaXQoXCJkZXN0VGltZU1pbj1cIik7XG5cdFx0XHR2YXIgYXJyVGltZSA9IGFyclRpbWVBcnJbMV0uc2xpY2UoMSwgOSk7XG5cdFx0XHRpZiAoZGVwVGltZVs3XSA9PSAnXCInKSB7XG5cdFx0XHRcdGRlcFRpbWUgPSBkZXBUaW1lLnNsaWNlKDAsIC0xKTtcblx0XHRcdH1cblx0XHRcdGlmIChhcnJUaW1lWzddID09ICdcIicpIHtcblx0XHRcdFx0YXJyVGltZSA9IGFyclRpbWUuc2xpY2UoMCwgLTEpO1xuXHRcdFx0fVxuXHRcdFx0JChcIiNzdWdnZXN0ZWRUaW1lXCIpLmFwcGVuZChcIjxkaXYgY2xhc3M9J3N1Z2dlc3RlZFRpbWUnPkRlcGFydHVyZTogXCIgKyBkZXBUaW1lICsgXCIsIGFycml2YWw6IFwiICsgYXJyVGltZSArIFwiPC9kaXY+XCIpO1xuXHRcdH0pO1xuXHR9XG5cdHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZmluYWxEZXN0aW5hdGlvbjIoKSB7XG5cdHZhciBjaG9zZW4gPSAkKFwiI3N0YXRpb25zLWlucHV0XCIpLnZhbCgpO1xuXHR2YXIgb3JnID0gJChcIiNzdGF0aW9ucy1saXN0IG9wdGlvblt2YWx1ZT0nXCIgKyBjaG9zZW4gKyBcIiddXCIpLmF0dHIoJ2RhdGEtdmFsdWUnKTtcblx0dmFyIGNob3NlbjIgPSAkKFwiI3N0YXRpb25zLWlucHV0MlwiKS52YWwoKTtcblx0dmFyIGRzdCA9ICQoXCIjc3RhdGlvbnMtbGlzdDIgb3B0aW9uW3ZhbHVlPSdcIiArIGNob3NlbjIgKyBcIiddXCIpLmF0dHIoJ2RhdGEtdmFsdWUnKTtcblx0dmFyIHd1cmwgPSAnaHR0cDovL2FwaS5iYXJ0Lmdvdi9hcGkvc2NoZWQuYXNweD9jbWQ9YXJyaXZlJmRhdGU9bm93JmtleT1NVzlTLUU3U0wtMjZEVS1WVjhWJmI9MCZhPTMmb3JpZz0nICsgb3JnICsgJyZkZXN0PScgKyBkc3Q7XG5cdCQuYWpheCh7XG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHR1cmw6IHd1cmwsXG5cdFx0ZGF0YVR5cGU6IFwieG1sXCIsXG5cdFx0c3VjY2VzczogcGFyc2VYbWw1LFxuXHRcdGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHtcblx0XHRcdCQoXCIjZm9ybS1jb250YWluZXIyXCIpLmNzcygnZGlzcGxheScsICdub25lJyk7XG5cdFx0XHQkKFwiI3JvdXRlcy1hdC1zdGF0aW9uLWhlYWRlclwiKS5jc3MoeyAnY29sb3InOiAncmVkJywgJ3BhZGRpbmcnOiAnNXB4JywgJ2JvcmRlcic6ICcxcHggc29saWQgcmVkJyB9KS5odG1sKFwiWW91IGFyZSBvZmZsaW5lIVwiKTtcblx0XHRcdCQoXCIjcm91dGVzLWF0LXN0YXRpb24tdmFsdWVzXCIpLmNzcygnY29sb3InLCAncmVkJykuaHRtbChcIllvdSBjYW4ndCBnZXQgdGhlIGFjdHVhbCBpbmZvcm1hdGlvbiByZWdhcmRpbmcgeW91ciB0cmlwLCBidXQgeW91IHN0aWxsIGhhdmUgYSBjaGFuY2UgdG8gY2hlY2sgdGhlIG9mZmxpbmUgc2NoZWR1bGUgZm9yIHRoZSBjaG9zZW4gc3RhdGlvblwiKTtcblx0XHRcdCQoXCIjYWxsLXNjaGVkdWxlLWNvbnRlbnRcIikuaHRtbChcIlwiKTtcblx0XHR9XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIHBhcnNlWG1sNSh4bWwpIHtcblx0XHR2YXIgeHggPSAkKFwiI3N0YXRpb25zLWlucHV0MlwiKS52YWwoKTtcblx0XHQkKFwiI3NjaGVkLXJlc3VsdHNcIikuaHRtbChcIlwiKTtcblx0XHQkKFwiI2FsbC1zY2hlZHVsZS1jb250ZW50XCIpLmh0bWwoXCJcIik7XG5cdFx0JChcIiNyb3V0ZXMtYXQtc3RhdGlvbi12YWx1ZXNcIikuaHRtbChcIlwiKTtcblx0XHQkKFwiI3JvdXRlcy1hdC1zdGF0aW9uLWhlYWRlclwiKS5odG1sKFwiXCIpLmNzcyh7ICdjb2xvcic6ICd3aGl0ZScsICdwYWRkaW5nJzogJzVweCcsICdib3JkZXInOiAnMCcgfSk7XG5cdFx0JChcIiNzY2hlZC1yZXN1bHRzXCIpLmFwcGVuZChcIjxkaXYgaWQ9J3N1Z2dlc3RlZFRpbWUnIGNsYXNzPSdjb2wteHMtMTIgY29sLXNtLTEyIGNvbC1tZC0xMiBjb2wtbGctMTInPjxoND5Zb3UgY2FuIHBpY2sgb25lIG9mIHRoZSBmb2xsb3dpbmcgdHJhaW5zIHRvIFwiICsgeHggKyBcIjwvaDQ+PC9kaXY+XCIpO1xuXHRcdCQoeG1sKS5maW5kKFwidHJpcFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBkZXBUaW1lQXJyID0gdGhpcy5jaGlsZHJlblsxXS5vdXRlckhUTUwuc3BsaXQoXCJvcmlnVGltZU1pbj1cIik7XG5cdFx0XHR2YXIgZGVwVGltZSA9IGRlcFRpbWVBcnJbMV0uc2xpY2UoMSwgOSk7XG5cdFx0XHR2YXIgYXJyVGltZUFyciA9IHRoaXMuY2hpbGRyZW5bMV0ub3V0ZXJIVE1MLnNwbGl0KFwiZGVzdFRpbWVNaW49XCIpO1xuXHRcdFx0dmFyIGFyclRpbWUgPSBhcnJUaW1lQXJyWzFdLnNsaWNlKDEsIDkpO1xuXHRcdFx0aWYgKGRlcFRpbWVbN10gPT0gJ1wiJykge1xuXHRcdFx0XHRkZXBUaW1lID0gZGVwVGltZS5zbGljZSgwLCAtMSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoYXJyVGltZVs3XSA9PSAnXCInKSB7XG5cdFx0XHRcdGFyclRpbWUgPSBhcnJUaW1lLnNsaWNlKDAsIC0xKTtcblx0XHRcdH1cblx0XHRcdCQoXCIjc3VnZ2VzdGVkVGltZVwiKS5hcHBlbmQoXCI8ZGl2IGNsYXNzPSdzdWdnZXN0ZWRUaW1lIGNvbC14cy0xMiBjb2wtc20tMTIgY29sLW1kLTEyIGNvbC1sZy0xMic+RGVwYXJ0dXJlOiBcIiArIGRlcFRpbWUgKyBcIiwgYXJyaXZhbDogXCIgKyBhcnJUaW1lICsgXCI8L2Rpdj5cIik7XG5cdFx0fSk7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBzaG93U2NoZWR1bGUoKSB7XG5cdHZhciBjaG9zZW4gPSAkKFwiI3N0YXRpb25zLWlucHV0XCIpLnZhbCgpO1xuXHR2YXIgY3VycmVudFN0YXRpb24gPSAkKFwiI3N0YXRpb25zLWxpc3Qgb3B0aW9uW3ZhbHVlPSdcIiArIGNob3NlbiArIFwiJ11cIikuYXR0cignZGF0YS12YWx1ZScpO1xuXHR2YXIgY3VycmVudFN0YXRpb25WYWwgPSAkKFwiI3N0YXRpb25zLWxpc3Qgb3B0aW9uW3ZhbHVlPSdcIiArIGNob3NlbiArIFwiJ11cIikuYXR0cigndmFsdWUnKTtcblx0JC5hamF4KHtcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdHVybDogXCJodHRwOi8vYXBpLmJhcnQuZ292L2FwaS9zY2hlZC5hc3B4P2NtZD1zdG5zY2hlZCZrZXk9TVc5Uy1FN1NMLTI2RFUtVlY4ViZsPTEmb3JpZz1cIiArIGN1cnJlbnRTdGF0aW9uLFxuXHRcdGRhdGFUeXBlOiBcInhtbFwiLFxuXHRcdHN1Y2Nlc3M6IHBhcnNlU2NoZWQsXG5cdFx0ZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge1xuXHRcdFx0JChcIiNmb3JtLWNvbnRhaW5lcjJcIikuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcblx0XHRcdCQoXCIjcm91dGVzLWF0LXN0YXRpb24taGVhZGVyXCIpLmNzcyh7ICdjb2xvcic6ICdyZWQnLCAncGFkZGluZyc6ICc1cHgnLCAnYm9yZGVyJzogJzFweCBzb2xpZCByZWQnIH0pLmh0bWwoXCJZb3UgYXJlIG9mZmxpbmUhXCIpO1xuXHRcdFx0JChcIiNyb3V0ZXMtYXQtc3RhdGlvbi12YWx1ZXNcIikuY3NzKCdjb2xvcicsICdyZWQnKS5odG1sKFwiWW91IGNhbid0IGdldCB0aGUgYWN0dWFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyB5b3VyIHRyaXAsIGJ1dCB5b3Ugc3RpbGwgaGF2ZSBhIGNoYW5jZSB0byBjaGVjayB0aGUgb2ZmbGluZSBzY2hlZHVsZSBmb3IgdGhlIGNob3NlbiBzdGF0aW9uXCIpO1xuXHRcdFx0JChcIiNhbGwtc2NoZWR1bGUtY29udGVudFwiKS5odG1sKFwiXCIpO1xuXHRcdFx0JChcIiNhbGwtc2NoZWR1bGUtY29udGVudFwiKS5hcHBlbmQoXCI8aDQgY2xhc3M9J3RleHQtY2VudGVyJz5Tb3JyeSwgc2NoZWR1bGUgd2Fzbid0IGxvYWRlZC4gSGVyZSBpcyByb3V0ZXMgbWFwLjwvaDQ+XCIpLmNzcygnY29sb3InLCAncmVkJyk7XG5cdFx0XHQkKFwiI2FsbC1zY2hlZHVsZS1jb250ZW50XCIpLmFwcGVuZChcIjxpbWcgaWQ9J3RoZS1yb3V0ZXMtbWFwJyBzcmM9J2ltZy9tYXAuZ2lmJz5cIik7XG5cdFx0fVxuXHR9KTtcblx0ZnVuY3Rpb24gcGFyc2VTY2hlZCh4bWwpIHtcblx0XHQkKFwiI3JvdXRlcy1hdC1zdGF0aW9uLWhlYWRlclwiKS5odG1sKFwiXCIpLmNzcyh7ICdjb2xvcic6ICd3aGl0ZScsICdwYWRkaW5nJzogJzVweCcsICdib3JkZXInOiAnMCcgfSk7XG5cdFx0JChcIiNyb3V0ZXMtYXQtc3RhdGlvbi12YWx1ZXNcIikuaHRtbChcIlwiKTtcblx0XHQkKFwiI2FsbC1zY2hlZHVsZS1jb250ZW50XCIpLmh0bWwoXCJcIik7XG5cdFx0JChcIiNzY2hlZC1yZXN1bHRzXCIpLmh0bWwoXCJcIik7XG5cdFx0dmFyIGNob3NlbiA9ICQoXCIjc3RhdGlvbnMtaW5wdXRcIikudmFsKCk7XG5cdFx0dmFyIGN1cnJlbnRTdGF0aW9uID0gJChcIiNzdGF0aW9ucy1saXN0IG9wdGlvblt2YWx1ZT0nXCIgKyBjaG9zZW4gKyBcIiddXCIpLmF0dHIoJ2RhdGEtdmFsdWUnKTtcblx0XHQkKFwiI2FsbC1zY2hlZHVsZS1saW5rXCIpLmh0bWwoXCI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J2J0biBidG4tcHJpbWFyeSBidG4tbGcgYnRuLWJsb2NrJyBpZD0nb2ZmbGluZS1zY2hlZCc+T2ZmbGluZSBzY2hlZHVsZSBmb3IgXCIgKyBjdXJyZW50U3RhdGlvblZhbCArIFwiPC9idXR0b24+XCIpO1xuXHRcdHZhciB0aGVMaXN0ID0geG1sLmNoaWxkcmVuWzBdLmlubmVySFRNTDtcblx0XHR0aGVMaXN0ID0gdGhlTGlzdC5zcGxpdChcIjxpdGVtIGxpbmU9XCIpLnNsaWNlKDEpO1xuXHRcdHZhciBteUJpZ1RhYmxlID0gXCI8dGFibGUgY2xhc3M9J3RhYmxlIHRhYmxlLWhvdmVyIHRhYmxlLXJlc3BvbnNpdmUgdGFibGUtc3RyaXBlZCcgaWQ9J3NjaGVkLXRhYmxlJz48dGhlYWQgY2xhc3M9J2NlbnRlcic+PHRyIGNsYXNzPSdyb3cnPjx0aCBjbGFzcz0nY29sLXhzLTMgY29sLXNtLTMgY29sLW1kLTMgY29sLWxnLTMnPlJvdXRlPC90aD48dGggY2xhc3M9J2NvbC14cy0zIGNvbC1zbS0zIGNvbC1tZC0zIGNvbC1sZy0zJz5EZXN0aW5hdGlvbjwvdGg+PHRoIGNsYXNzPSdjb2wteHMtMyBjb2wtc20tMyBjb2wtbWQtMyBjb2wtbGctMyc+RGVwYXJ0dXJlIHRpbWU8L3RoPjx0aCBjbGFzcz0nY29sLXhzLTMgY29sLXNtLTMgY29sLW1kLTMgY29sLWxnLTMnPkFycml2YWwgdGltZTwvdGg+PC90cj48L3RoZWFkPjx0Ym9keT5cIjtcblx0XHRmb3IgKHZhciBoID0gMDsgaCA8IHRoZUxpc3QubGVuZ3RoOyBoKyspIHtcblx0XHRcdHZhciBjb2x1bW5Sb3V0ZSA9IHRoZUxpc3RbaF0uc2xpY2UoNywgOSk7XG5cdFx0XHRpZiAoY29sdW1uUm91dGVbMV0gPT0gJ1wiJykge1xuXHRcdFx0XHRjb2x1bW5Sb3V0ZSA9IGNvbHVtblJvdXRlLnNsaWNlKDAsIC0xKTtcblx0XHRcdH1cblx0XHRcdHZhciBjb2x1bW5EZXN0QXJyID0gdGhlTGlzdFtoXS5zcGxpdChcInRyYWluSGVhZFN0YXRpb249XCIpO1xuXHRcdFx0dmFyIGNvbHVtbkRlc3RBYnIgPSBjb2x1bW5EZXN0QXJyWzFdLnNsaWNlKDEsIDUpO1xuXHRcdFx0dmFyIGNvbHVtbkRlc3QgPSAkKFwiI3N0YXRpb25zLWxpc3Qgb3B0aW9uW2RhdGEtdmFsdWU9J1wiICsgY29sdW1uRGVzdEFiciArIFwiJ11cIikuYXR0cigndmFsdWUnKTtcblx0XHRcdHZhciBjb2x1bW5TdGFydERlcEFyciA9IHRoZUxpc3RbaF0uc3BsaXQoXCJvcmlnVGltZT1cIik7XG5cdFx0XHR2YXIgY29sdW1uU3RhcnREZXAgPSBjb2x1bW5TdGFydERlcEFyclsxXS5zbGljZSgxLCA5KTtcblx0XHRcdGlmIChjb2x1bW5TdGFydERlcFs3XSA9PSAnXCInKSB7XG5cdFx0XHRcdGNvbHVtblN0YXJ0RGVwID0gY29sdW1uU3RhcnREZXAuc2xpY2UoMCwgLTEpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGNvbHVtbkZpbmFsQXJyQXJyID0gdGhlTGlzdFtoXS5zcGxpdChcImRlc3RUaW1lPVwiKTtcblx0XHRcdHZhciBjb2x1bW5GaW5hbEFyciA9IGNvbHVtbkZpbmFsQXJyQXJyWzFdLnNsaWNlKDEsIDkpO1xuXHRcdFx0aWYgKGNvbHVtbkZpbmFsQXJyWzddID09ICdcIicpIHtcblx0XHRcdFx0Y29sdW1uRmluYWxBcnIgPSBjb2x1bW5GaW5hbEFyci5zbGljZSgwLCAtMSk7XG5cdFx0XHR9XG5cdFx0XHRteUJpZ1RhYmxlID0gbXlCaWdUYWJsZSArIFwiPHRyIGNsYXNzPSdyb3cnPjx0ZCBjbGFzcz0nY29sLXhzLTMgY29sLXNtLTMgY29sLW1kLTMgY29sLWxnLTMnPlwiICsgY29sdW1uUm91dGUgKyBcIjwvdGQ+PHRkIGNsYXNzPSdjb2wteHMtMyBjb2wtc20tMyBjb2wtbWQtMyBjb2wtbGctMyc+XCIgKyBjb2x1bW5EZXN0ICsgXCI8L3RkPjx0ZCBjbGFzcz0nY29sLXhzLTMgY29sLXNtLTMgY29sLW1kLTMgY29sLWxnLTMnPlwiICsgY29sdW1uU3RhcnREZXAgKyBcIjwvdGQ+PHRkIGNsYXNzPSdjb2wteHMtMyBjb2wtc20tMyBjb2wtbWQtMyBjb2wtbGctMyc+XCIgKyBjb2x1bW5GaW5hbEFyciArIFwiPC90ZD48L3RyPlwiO1xuXHRcdH1cblx0XHRteUJpZ1RhYmxlID0gbXlCaWdUYWJsZSArIFwiPC90Ym9keT48L3RhYmxlPlwiO1xuXHRcdCQoXCIjYWxsLXNjaGVkdWxlLWNvbnRlbnRcIikuYXBwZW5kKG15QmlnVGFibGUpO1xuXHR9XG59XG5cbiQoJyNmb3JtLWNvbnRhaW5lcicpLnN1Ym1pdChjaG9vc2VTdGF0aW9uKTtcbiQoJyNmb3JtLWNvbnRhaW5lcjInKS5zdWJtaXQoZmluYWxEZXN0aW5hdGlvbjIpO1xuJCgnI2FsbC1zY2hlZHVsZS1saW5rJykuY2xpY2soc2hvd1NjaGVkdWxlKTtcbi8vLSBlbmRpbmplY3Rcbi8vLSBpbmplY3Q6cGx1Z2luc1xuXG4vLy0gZW5kaW5qZWN0Il0sImZpbGUiOiJtYWluLmpzIn0=
